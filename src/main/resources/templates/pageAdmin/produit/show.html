<!DOCTYPE html>
<html th:replace="base :: html" lang="fr" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="content">
    <div class="py-5">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card shadow-sm">
                    <div class="card-header bg-info text-white">
                        <h3 class="mb-0">üëÅÔ∏è D√©tail du produit</h3>
                    </div>
                    <div class="card-body p-4">
                        <nav aria-label="breadcrumb" class="mb-4">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a th:href="@{/wickle/admin}">Admin</a></li>
                                <li class="breadcrumb-item"><a th:href="@{/wickle/admin/produits}">Produits</a></li>
                                <li class="breadcrumb-item active" th:text="${produit.nom}"></li>
                            </ol>
                        </nav>

                        <div class="row">
                            <div class="col-md-8">
                                <dl class="row">
                                    <dt class="col-sm-3">ID</dt>
                                    <dd class="col-sm-9" th:text="${produit.id}"></dd>

                                    <dt class="col-sm-3">Nom</dt>
                                    <dd class="col-sm-9"><strong th:text="${produit.nom}"></strong></dd>

                                    <dt class="col-sm-3">Description</dt>
                                    <dd class="col-sm-9" th:text="${produit.description}"></dd>

                                    <dt class="col-sm-3">Cat√©gorie</dt>
                                    <dd class="col-sm-9">
                                        <span class="badge bg-secondary" th:text="${produit.categorie.nom}"></span>
                                    </dd>

                                    <dt class="col-sm-3">Prix</dt>
                                    <dd class="col-sm-9">
                                        <span class="fs-4 text-primary fw-bold" th:text="${produit.prix} + ' ‚Ç¨'"></span>
                                    </dd>

                                    <dt class="col-sm-3">Stock</dt>
                                    <dd class="col-sm-9">
                                        <span th:if="${produit.stock > 10}" class="badge bg-success fs-6" th:text="${produit.stock}"></span>
                                        <span th:if="${produit.stock <= 10 and produit.stock > 0}" class="badge bg-warning fs-6" th:text="${produit.stock}"></span>
                                        <span th:if="${produit.stock == 0}" class="badge bg-danger fs-6">Rupture de stock</span>
                                    </dd>

                                    <dt class="col-sm-3">Date d'ajout</dt>
                                    <dd class="col-sm-9" th:text="${#temporals.format(produit.dateAjout, 'dd/MM/yyyy')}"></dd>

                                    <dt class="col-sm-3">Variantes</dt>
                                    <dd class="col-sm-9">
                                        <span class="badge bg-info" th:text="${produit.variantes.size()} + ' variante(s)'"></span>
                                    </dd>

                                    <dt class="col-sm-3">Images</dt>
                                    <dd class="col-sm-9">
                                        <span class="badge bg-info" th:text="${produit.images.size()} + ' image(s)'"></span>
                                    </dd>

                                    <dt class="col-sm-3">Avis</dt>
                                    <dd class="col-sm-9">
                                        <span class="badge bg-warning" th:text="${produit.avis.size()} + ' avis'"></span>
                                    </dd>
                                </dl>
                            </div>

                            <div class="col-md-4">
                                <div class="card bg-light">
                                    <div class="card-body text-center">
                                        <div class="display-1 mb-3">üñºÔ∏è</div>
                                        <p class="text-muted">Image du produit</p>
                                        <small>(√Ä impl√©menter avec upload)</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex gap-2 mt-4">
                            <a th:href="@{'/wickle/admin/produits/edit/' + ${produit.id}}"
                               class="btn btn-warning">‚úèÔ∏è Modifier</a>
                            <a th:href="@{/wickle/admin/produits}" class="btn btn-secondary">‚Ü©Ô∏è Retour</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</html>